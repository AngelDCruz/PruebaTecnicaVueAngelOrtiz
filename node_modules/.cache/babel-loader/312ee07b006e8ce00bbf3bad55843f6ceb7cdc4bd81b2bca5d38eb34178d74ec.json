{"ast":null,"code":"import * as Winwheel from './Winwheel';\nimport prizeModal from './demo/src/prizeModal';\nexport default {\n  components: {\n    prizeModal\n  },\n  props: {\n    btnColor: String,\n    btnText: String,\n    pageTitle: String,\n    wheelSize: null,\n    segments: Array,\n    duration: Number,\n    spin: Number\n  },\n  data() {\n    return {\n      loadingPrize: false,\n      theWheel: new Winwheel.Winwheel({\n        ...this.WinWheelOptions,\n        numSegments: this.segments.length,\n        segments: this.segments,\n        animation: {\n          type: 'spinToStop',\n          duration: this.duration,\n          spins: this.spin,\n          callbackFinished: this.onFinishSpin,\n          stopAngle: grados\n        }\n      }),\n      modalPrize: {},\n      showModal: false,\n      wheelPower: 1,\n      wheelSpinning: false,\n      WinWheelOptions: {\n        textFontSize: 14,\n        outterRadius: 410,\n        innerRadius: 25,\n        lineWidth: 8,\n        animation: {\n          type: 'spinOngoing',\n          duration: 0.5\n        }\n      }\n    };\n  },\n  methods: {\n    getWheelSize() {\n      if (this.wheelSize) {\n        return this.wheelSize;\n      } else {\n        return 400;\n      }\n    },\n    hidePrize() {\n      this.modalPrize = {};\n      this.showModal = true;\n    },\n    startSpin() {\n      if (this.wheelSpinning === false) {\n        this.theWheel.startAnimation();\n        this.wheelSpinning = true;\n        this.theWheel = new Winwheel.Winwheel({\n          ...this.WinWheelOptions,\n          numSegments: this.segments.length,\n          segments: this.segments,\n          animation: {\n            type: 'spinToStop',\n            duration: this.duration,\n            spins: this.spin,\n            callbackFinished: this.onFinishSpin\n          }\n        });\n        this.theWheel.startAnimation();\n        this.wheelSpinning = false;\n      }\n    },\n    resetWheel() {\n      this.showModal = false;\n      this.theWheel = new Winwheel.Winwheel({\n        ...this.WinWheelOptions,\n        numSegments: this.segments.length,\n        segments: this.segments\n      });\n      if (this.wheelSpinning) {\n        this.theWheel.stopAnimation(false); // Stop the animation, false as param so does not call callback function.\n      }\n\n      this.theWheel.rotationAngle = 0; // Re-set the wheel angle to 0 degrees.\n      this.theWheel.draw(); // Call draw to render changes to the wheel.\n      this.wheelSpinning = false; // Reset to false to power buttons and spin can be clicked again.\n    },\n\n    initSpin() {\n      this.loadingPrize = true;\n      this.resetWheel();\n      this.loadingPrize = false;\n    },\n    onFinishSpin() {\n      let prize = this.theWheel.getIndicatedSegment();\n      this.modalPrize = {\n        text: prize.text,\n        desc: prize.desc\n      };\n      let color = this.segments.find(x => x.text === prize.text);\n      this.$emit(\"numeroGanador\", {\n        numero: prize.text,\n        color: color.fillStyle\n      });\n    },\n    establecerNumeroGanador(grados) {\n      this.theWheel.animation.stopAngle = grados;\n      this.theWheel.startAnimation();\n    },\n    getBtnColor() {\n      let style = 'cursor:pointer; background:';\n      if (this.btnColor) {\n        return `${style}${this.btnColor};`;\n      } else {\n        return `${style}#c4376f;`;\n      }\n    },\n    getBtnText() {\n      if (this.btnText) {\n        return this.btnText;\n      } else {\n        return 'SPIN!';\n      }\n    }\n  },\n  computed: {},\n  updated() {},\n  mounted() {\n    this.initSpin();\n  }\n};","map":{"version":3,"names":["Winwheel","prizeModal","components","props","btnColor","String","btnText","pageTitle","wheelSize","segments","Array","duration","Number","spin","data","loadingPrize","theWheel","WinWheelOptions","numSegments","length","animation","type","spins","callbackFinished","onFinishSpin","stopAngle","grados","modalPrize","showModal","wheelPower","wheelSpinning","textFontSize","outterRadius","innerRadius","lineWidth","methods","getWheelSize","hidePrize","startSpin","startAnimation","resetWheel","stopAnimation","rotationAngle","draw","initSpin","prize","getIndicatedSegment","text","desc","color","find","x","$emit","numero","fillStyle","establecerNumeroGanador","getBtnColor","style","getBtnText","computed","updated","mounted"],"sources":["node_modules/vue-winwheel-reversion/vue-winwheel.vue"],"sourcesContent":["<template>\r\n\t<section class=\"vue-winwheel\">\r\n\t\t<div class=\"mobile-container\">\r\n\t\t\t<h1>{{pageTitle}}</h1>\r\n\t\t\t<div class=\"wheel-wrapper\">\r\n\t\t\t\t<div class=\"canvas-wrapper\">\r\n\t\t\t\t\t<canvas id=\"canvas\" :width=\"getWheelSize()\" :height=\"getWheelSize()\">\r\n\t\t\t\t\t\t\t<p style=\"{color: white}\" align=\"center\">\r\n\t\t\t\t\t\t\t\tSorry, your browser doesn't support canvas. Please try Google Chrome.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</canvas>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</section>\r\n</template>\r\n\r\n\r\n<script>\r\n\timport * as Winwheel from './Winwheel'\r\n\timport prizeModal from './demo/src/prizeModal'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tprizeModal\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tbtnColor: String,\r\n\t\t\tbtnText: String,\r\n\t\t\tpageTitle: String,\r\n\t\t\twheelSize: null,\r\n\t\t\tsegments: Array,\r\n\t\t\tduration: Number,\r\n\t\t\tspin: Number,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloadingPrize: false,\r\n\t\t\t\ttheWheel: new Winwheel.Winwheel({\r\n\t\t\t\t\t\t...this.WinWheelOptions,\r\n\t\t\t\t\t\tnumSegments: this.segments.length,\r\n\t\t\t\t\t\tsegments: this.segments,\r\n\t\t\t\t\t\tanimation: {\r\n\t\t\t\t\t\t\ttype: 'spinToStop',\r\n\t\t\t\t\t\t\tduration: this.duration,\r\n\t\t\t\t\t\t\tspins: this.spin,\r\n\t\t\t\t\t\t\tcallbackFinished: this.onFinishSpin,\r\n\t\t\t\t\t\t\tstopAngle: grados\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}),\r\n\t\t\t\tmodalPrize: {},\r\n\t\t\t\tshowModal: false,\r\n\t\t\t\twheelPower: 1,\r\n\t\t\t\twheelSpinning: false,\r\n\t\t\t\tWinWheelOptions: {\r\n\t\t\t\t\ttextFontSize: 14,\r\n\t\t\t\t\toutterRadius: 410,\r\n\t\t\t\t\tinnerRadius: 25,\r\n\t\t\t\t\tlineWidth: 8,\r\n\t\t\t\t\tanimation: {\r\n\t\t\t\t\t\ttype: 'spinOngoing',\r\n\t\t\t\t\t\tduration: 0.5\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetWheelSize() {\r\n\t\t\t\tif (this.wheelSize) {\r\n\t\t\t\t\treturn this.wheelSize\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 400\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thidePrize() {\r\n\t\t\t\tthis.modalPrize = {}\r\n\t\t\t\tthis.showModal = true\r\n\t\t\t},\r\n\t\t\tstartSpin() {\r\n\t\t\t\tif (this.wheelSpinning === false) {\r\n\t\t\t\t\tthis.theWheel.startAnimation()\r\n\t\t\t\t\tthis.wheelSpinning = true\r\n\t\t\t\t\tthis.theWheel = new Winwheel.Winwheel({\r\n\t\t\t\t\t\t...this.WinWheelOptions,\r\n\t\t\t\t\t\tnumSegments: this.segments.length,\r\n\t\t\t\t\t\tsegments: this.segments,\r\n\t\t\t\t\t\tanimation: {\r\n\t\t\t\t\t\t\ttype: 'spinToStop',\r\n\t\t\t\t\t\t\tduration: this.duration,\r\n\t\t\t\t\t\t\tspins: this.spin,\r\n\t\t\t\t\t\t\tcallbackFinished: this.onFinishSpin\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.theWheel.startAnimation()\r\n\t\t\t\t\tthis.wheelSpinning = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tresetWheel() {\r\n\t\t\t\tthis.showModal = false\r\n\t\t\t\tthis.theWheel = new Winwheel.Winwheel({\r\n\t\t\t\t\t...this.WinWheelOptions,\r\n\t\t\t\t\tnumSegments: this.segments.length,\r\n\t\t\t\t\tsegments: this.segments\r\n\t\t\t\t})\r\n\t\t\t\tif (this.wheelSpinning) {\r\n\t\t\t\t\tthis.theWheel.stopAnimation(false) // Stop the animation, false as param so does not call callback function.\r\n\t\t\t\t}\r\n\t\t\t\tthis.theWheel.rotationAngle = 0 // Re-set the wheel angle to 0 degrees.\r\n\t\t\t\tthis.theWheel.draw() // Call draw to render changes to the wheel.\r\n\t\t\t\tthis.wheelSpinning = false // Reset to false to power buttons and spin can be clicked again.\r\n\t\t\t},\r\n\t\t\tinitSpin() {\r\n\t\t\t\tthis.loadingPrize = true\r\n\t\t\t\tthis.resetWheel()\r\n\t\t\t\tthis.loadingPrize = false\r\n\t\t\t},\r\n\t\t\tonFinishSpin() {\r\n\t\t\t\tlet prize = this.theWheel.getIndicatedSegment()\r\n\t\t\t\tthis.modalPrize = {\r\n\t\t\t\t\ttext: prize.text,\r\n\t\t\t\t\tdesc: prize.desc\r\n\t\t\t\t}\r\n\t\t\t\tlet color = this.segments.find(x => x.text === prize.text);\r\n\t\t\t\tthis.$emit(\"numeroGanador\", {\r\n\t\t\t\t\tnumero: prize.text,\r\n\t\t\t\t\tcolor: color.fillStyle\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\testablecerNumeroGanador(grados){\r\n\t\t\t\t\r\n\t\t\t\tthis.theWheel.animation.stopAngle = grados;\r\n        \t\tthis.theWheel.startAnimation();\r\n\t\t\t},\r\n\t\t\tgetBtnColor() {\r\n\t\t\t\tlet style = 'cursor:pointer; background:'\r\n\t\t\t\tif (this.btnColor) {\r\n\t\t\t\t\treturn `${style}${this.btnColor};`\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn `${style}#c4376f;`\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetBtnText() {\r\n\t\t\t\tif (this.btnText) {\r\n\t\t\t\t\treturn this.btnText\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 'SPIN!'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {},\r\n\t\tupdated() {},\r\n\t\tmounted() {\r\n\t\t\tthis.initSpin()\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.vue-winwheel {\r\n\t\ttext-align: center;\r\n\t\t/* background-image: url('/static/img/obstacle-run/bg-spinner-mobile.svg'); */\r\n\t\tbackground-size: cover;\r\n\t\tbackground-position: center bottom;\r\n\t\tbackground-repeat: no-repeat;\r\n\t}\r\n\t.vue-winwheel h1 {\r\n\t\tcolor: #b32656;\r\n\t\tfont-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n\t\tfont-size: 36px;\r\n\t\tline-height: 90px;\r\n\t\tletter-spacing: 4px;\r\n\t\tmargin: 0;\r\n\t}\r\n\t.vue-winwheel h2 {\r\n\t\tmargin: 0;\r\n\t}\r\n\t.vue-winwheel #modalSpinwheel.custom-modal .content-wrapper .content {\r\n\t\twidth: calc(100vw - 30px);\r\n\t\tpadding-top: 52px;\r\n\t}\r\n\t.vue-winwheel #modalSpinwheel.custom-modal .content-wrapper .content h2 {\r\n\t\ttext-transform: uppercase;\r\n\t\tcolor: #b32656;\r\n\t\tmargin-bottom: 16px;\r\n\t\tmargin-top: 0;\r\n\t\tfont-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n\t\tfont-size: 18px;\r\n\t\tletter-spacing: 1.1px;\r\n\t\tmargin: 0;\r\n\t}\r\n\t.vue-winwheel #modalSpinwheel.custom-modal .content-wrapper .content p {\r\n\t\tfont-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: black;\r\n\t\ttext-align: center;\r\n\t\tline-height: 25px;\r\n\t}\r\n\t.vue-winwheel #modalSpinwheel.custom-modal .content-wrapper .content p strong {\r\n\t\tfont-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n\t}\r\n\t.vue-winwheel #modalSpinwheel.custom-modal .content-wrapper .content .modal-dismiss {\r\n\t\ttop: 12px;\r\n\t\tright: 12px;\r\n\t}\r\n\t.vue-winwheel #modalSpinwheel.custom-modal .content-wrapper .content .modal-dismiss i.icon_close {\r\n\t\tfont-size: 30px;\r\n\t\tcolor: #da2a52;\r\n\t}\r\n\t.vue-winwheel canvas#canvas {\r\n\t\tposition: relative;\r\n\t}\r\n\t.vue-winwheel .canvas-wrapper {\r\n\t\tposition: relative;\r\n\t}\r\n\t.vue-winwheel .canvas-wrapper:after {\r\n\t\tcontent: '';\r\n\t\tdisplay: block;\r\n\t\twidth: 42px;\r\n\t\tbackground: #c4376f;\r\n\t\theight: 42px;\r\n\t\tposition: absolute;\r\n\t\tleft: calc(50% - 25px);\r\n\t\tmargin: auto;\r\n\t\tborder-radius: 100%;\r\n\t\ttop: calc(50% - 29px);\r\n\t\tborder: 5px solid white;\r\n\t\tbox-sizing: content-box;\r\n\t}\r\n\t.vue-winwheel .canvas-wrapper:before {\r\n\t\tcontent: '';\r\n\t\tdisplay: block;\r\n\t\tbackground: #0f0f0f;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tmargin: 0 auto;\r\n\t\tborder-radius: 100%;\r\n\t\ttop: 0;\r\n\t}\r\n\t.vue-winwheel .wheel-wrapper {\r\n\t\tposition: relative;\r\n\t}\r\n\t.vue-winwheel .wheel-wrapper:before {\r\n\t\tcontent: '';\r\n\t\twidth: 62px;\r\n\t\theight: 47px;\r\n\t\tposition: absolute;\r\n\t\ttop: -10px;\r\n\t\tleft: calc(50% - 31px);\r\n\t\tright: 0;\r\n\t\tdisplay: block;\r\n\t\tz-index: 99999;\r\n\t\tbackground-image: url('./spinner-marker.svg');\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-size: contain;\r\n\t\tbackground-position: center;\r\n\t}\r\n\t.vue-winwheel .wheel-wrapper .button-wrapper {\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 231px;\r\n\t\theight: 118px;\r\n\t}\r\n\t.vue-winwheel .wheel-wrapper .btn.btn-play {\r\n\t\tpadding: 0 58px !important;\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t\tcolor: white;\r\n\t\tfont-weight: bold;\r\n\t\ttext-decoration: none;\r\n\t\tborder-radius: 2px;\r\n\t\tfont-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n\t\tletter-spacing: 2px;\r\n\t}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}